# ===========================================
# PIS 统一环境配置
# ===========================================
#
# 使用说明:
# 1. 复制此文件为 .env.local (本地开发使用)
# 2. 根目录的 .env.local 被 apps/web 和 services/worker 共享
# 3. 生产部署时，通过平台环境变量注入，不依赖 .env 文件
#
# ===========================================

# ==================== 数据库配置 ====================
# 支持: supabase (推荐), postgresql, mysql
DATABASE_TYPE=supabase

# Supabase 配置 (当 DATABASE_TYPE=supabase 时使用)
# 获取方式: Supabase Dashboard -> Project Settings -> API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# Worker 服务使用的别名 (兼容，可与 NEXT_PUBLIC_SUPABASE_URL 相同)
SUPABASE_URL=https://your-project.supabase.co

# PostgreSQL/MySQL 配置 (当 DATABASE_TYPE=postgresql 或 mysql 时使用)
# DATABASE_URL=postgresql://user:password@host:5432/database
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_NAME=pis
# DATABASE_USER=postgres
# DATABASE_PASSWORD=password
# DATABASE_SSL=false

# ==================== 存储配置 ====================
# 支持: minio (默认), oss (阿里云), cos (腾讯云), s3 (AWS)
STORAGE_TYPE=minio

# MinIO 配置 (当 STORAGE_TYPE=minio 时使用)
# 获取方式: MinIO Console -> Identity -> Service Accounts
# 注意: NEXT_PUBLIC_MEDIA_URL 用于前端访问，STORAGE_ENDPOINT 用于后端连接
NEXT_PUBLIC_MEDIA_URL=https://media.yourdomain.com
STORAGE_ENDPOINT=localhost
STORAGE_PORT=9000
STORAGE_USE_SSL=false
STORAGE_ACCESS_KEY=your-access-key
STORAGE_SECRET_KEY=your-secret-key
STORAGE_BUCKET=pis-photos
STORAGE_PUBLIC_URL=https://media.yourdomain.com

# 公网上传地址 (用于生成 presigned URL，绕过 Vercel 大小限制)
# 重要: 必须配置，否则大文件上传会失败
MINIO_PUBLIC_URL=https://media.yourdomain.com

# 兼容旧配置 (向后兼容，可省略)
MINIO_ENDPOINT_HOST=localhost
MINIO_ENDPOINT_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=your-access-key
MINIO_SECRET_KEY=your-secret-key
MINIO_BUCKET=pis-photos

# 阿里云 OSS 配置 (当 STORAGE_TYPE=oss 时使用)
# STORAGE_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
# STORAGE_REGION=cn-hangzhou
# STORAGE_ACCESS_KEY=your-access-key-id
# STORAGE_SECRET_KEY=your-access-key-secret
# STORAGE_BUCKET=your-bucket-name
# STORAGE_PUBLIC_URL=https://your-bucket-name.oss-cn-hangzhou.aliyuncs.com

# 腾讯云 COS 配置 (当 STORAGE_TYPE=cos 时使用)
# STORAGE_ENDPOINT=cos.ap-guangzhou.myqcloud.com
# STORAGE_REGION=ap-guangzhou
# STORAGE_ACCESS_KEY=your-secret-id
# STORAGE_SECRET_KEY=your-secret-key
# STORAGE_BUCKET=your-bucket-name
# STORAGE_PUBLIC_URL=https://your-bucket-name.cos.ap-guangzhou.myqcloud.com

# AWS S3 配置 (当 STORAGE_TYPE=s3 时使用)
# STORAGE_ENDPOINT=s3.amazonaws.com
# STORAGE_REGION=us-east-1
# STORAGE_ACCESS_KEY=your-access-key-id
# STORAGE_SECRET_KEY=your-secret-access-key
# STORAGE_BUCKET=your-bucket-name
# STORAGE_PUBLIC_URL=https://your-bucket-name.s3.amazonaws.com

# ==================== Worker 服务 ====================
# Worker 服务 URL (用于分片上传、图片处理等功能)
WORKER_URL=http://localhost:3001
NEXT_PUBLIC_WORKER_URL=http://localhost:3001

# ==================== Redis ====================
REDIS_HOST=localhost
REDIS_PORT=6379

# ==================== 应用配置 ====================
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Photographer/Studio Branding
NEXT_PUBLIC_PHOTOGRAPHER_NAME=PIS Photography
NEXT_PUBLIC_PHOTOGRAPHER_TAGLINE=专业活动摄影
# 自定义 Logo URL (可选，默认使用 /icons/icon.svg)
# NEXT_PUBLIC_LOGO_URL=/icons/your-logo.svg
