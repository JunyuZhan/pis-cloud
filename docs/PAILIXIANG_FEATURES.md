# 拍立享功能详细分析

> 本文档详细分析拍立享平台的功能特性，作为 PIS 系统的功能参考

**最后更新**: 2026-01-24

---

## 📋 功能分类

### 1. 核心功能 ✅

#### 1.1 照片上传与处理
- ✅ **OTG/FTP 实时上传**：通过数据线或 FTP 连接单反相机到手机
- ✅ **自动压缩处理**：照片自动压缩并上传至云端
- ✅ **云端修图**：支持云端修图处理
- ✅ **多品牌支持**：支持佳能、尼康、索尼等主流相机品牌

#### 1.2 相册管理
- ✅ **相册创建与管理**：完整的相册 CRUD 功能
- ✅ **相册模板**：可复用的相册配置模板
- ✅ **相册复制**：一键复制相册配置
- ✅ **相册分组**：按活动流程（签到、会议、颁奖等）或日期分组
- ✅ **批量管理**：批量操作相册

#### 1.3 照片管理
- ✅ **照片上传**：批量上传支持
- ✅ **照片处理**：自动生成缩略图、预览图
- ✅ **水印功能**：多位置水印（最多6处）
- ✅ **照片排序**：手动排序或按拍摄时间
- ✅ **批量操作**：批量删除、批量下载

---

### 2. 分享功能 ✅

#### 2.1 分享方式
- ✅ **链接分享**：生成分享链接
- ✅ **二维码分享**：生成二维码供扫描
- ✅ **微信分享**：自定义分享卡片（标题、描述、图片）
- ✅ **微信小程序**：提供小程序版本

#### 2.2 分享优化
- ✅ **自定义分享卡片**：可自定义标题、描述、图片
- ✅ **Open Graph 支持**：支持社交媒体预览
- ✅ **微信分享优化**：针对微信优化的分享体验

---

### 3. 下载功能 ✅

#### 3.1 下载方式
- ✅ **单张下载**：支持单张照片下载
- ✅ **批量下载**：支持批量下载多张照片
- ✅ **打包下载**：生成 ZIP 文件，包含有水印和无水印两个版本

#### 3.2 下载控制
- ✅ **下载权限**：可控制是否允许下载
- ✅ **下载有效期**：下载链接15天有效期
- ✅ **版本选择**：可选择有水印或无水印版本

---

### 4. 智能功能 🆕

#### 4.1 "找我"功能
- ✅ **人脸识别**：自动识别照片中的人脸
- ✅ **号码识别**：识别照片中的号码（如参赛号码）
- ✅ **自动查找**：访客可自动查找含有自己照片的所有图片
- ✅ **智能分组**：根据识别结果自动分组照片

**使用场景**：
- 赛事活动：选手通过号码快速找到自己的照片
- 婚礼活动：宾客通过人脸识别找到自己的照片
- 会议活动：参会者快速定位自己的照片

**技术实现**（参考）：
- 人脸识别：使用 AI 人脸识别 API（如腾讯云、阿里云）
- OCR 识别：使用 OCR API 识别照片中的文字/号码
- 数据库索引：为识别结果建立索引，支持快速查询

---

### 5. 相册分组功能 🆕

#### 5.1 分组方式
- ✅ **按活动流程分组**：签到、会议、颁奖、晚宴等
- ✅ **按日期分组**：按拍摄日期自动分组
- ✅ **手动分组**：手动创建和管理分组

#### 5.2 分组管理
- ✅ **分组命名**：自定义分组名称
- ✅ **分组排序**：可调整分组顺序
- ✅ **分组筛选**：访客可按分组筛选照片

**使用场景**：
- 婚礼活动：仪式、外景、内景、晚宴等分组
- 会议活动：签到、主会场、分会场、晚宴等分组
- 赛事活动：预赛、复赛、决赛等分组

**技术实现**（参考）：
```sql
-- 数据库表结构
CREATE TABLE photo_groups (
  id UUID PRIMARY KEY,
  album_id UUID REFERENCES albums(id),
  name TEXT NOT NULL,
  description TEXT,
  sort_order INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE photo_group_assignments (
  photo_id UUID REFERENCES photos(id),
  group_id UUID REFERENCES photo_groups(id),
  PRIMARY KEY (photo_id, group_id)
);
```

---

### 6. 修图工作流 🆕

#### 6.1 修图助手客户端
- ✅ **自动下载**：照片自动下载到本地"下载"文件夹
- ✅ **修图集成**：与 PS、Lightroom 等专业软件配合使用
- ✅ **自动上传**：修好的照片放入"上传"文件夹，自动上传

#### 6.2 工作流程
1. **下载阶段**：摄影师拍摄的照片自动下载到"下载"文件夹
2. **修图阶段**：修图师从下载文件夹选择照片，用 PS/LR 修图
3. **上传阶段**：修好的照片保存到本地后，放入"上传"文件夹，系统自动上传

#### 6.3 注意事项
- ⚠️ **不要修改文件名**：下载的照片文件名不能修改
- ⚠️ **时间同步**：修图师电脑时间必须准确（系统会校验北京时间）
- ⚠️ **系统要求**：Mac 系统需升级至 10.14 及以上

**技术实现**（参考）：
- 桌面客户端：使用 Electron 或 Tauri 开发
- 文件监控：监控"下载"和"上传"文件夹的变化
- API 集成：与后端 API 集成，实现自动下载/上传

---

### 7. 营销功能 🆕

#### 7.1 预约咨询
- ✅ **信息收集**：收集访客的联系方式和需求
- ✅ **表单定制**：可自定义表单字段
- ✅ **数据导出**：导出收集到的客户信息

**使用场景**：
- 婚纱摄影：收集潜在客户的联系方式
- 商业活动：收集参会者的咨询需求
- 产品发布：收集意向客户信息

#### 7.2 流量导入
- ✅ **导流链接**：在相册中嵌入导流链接
- ✅ **报名页面**：导流到报名/预订页面
- ✅ **公众号拉新**：为公众号拉新涨粉

**使用场景**：
- 活动报名：从相册导流到活动报名页面
- 产品预订：从相册导流到产品预订页面
- 公众号关注：引导访客关注公众号

---

### 8. 互动功能

#### 8.1 客户选片
- ✅ **选片标记**：访客可标记喜欢的照片
- ✅ **选片统计**：管理员可查看选片统计
- ✅ **选片下载**：支持下载已选照片

#### 8.2 点赞功能
- ✅ **气泡点赞**：点击照片显示点赞动画
- ✅ **点赞统计**：显示每张照片的点赞数
- ✅ **点赞排行**：按点赞数排序照片

#### 8.3 评论功能
- ✅ **照片评论**：访客可对照片进行评论
- ✅ **评论管理**：管理员可审核/删除评论
- ✅ **评论通知**：评论通知功能

---

### 9. 访问控制

#### 9.1 访问模式
- ✅ **公开访问**：任何人都可以访问
- ✅ **密码访问**：需要密码才能访问
- ✅ **申请后访问**：访客填写信息，管理员审核后访问
- ✅ **人脸识别解锁**：使用人脸识别解锁相册（可选）

#### 9.2 访问控制设置
- ✅ **访问期限**：设置相册访问期限
- ✅ **访问次数限制**：限制访问次数
- ✅ **IP 白名单**：设置 IP 白名单

---

### 10. UI/UX 自定义

#### 10.1 动画自定义
- ✅ **进入动画**：自定义相册加载动画
- ✅ **加载动画**：自定义加载动画样式
- ✅ **过渡动画**：自定义页面过渡动画

#### 10.2 样式自定义
- ✅ **背景色自定义**：自定义相册背景色
- ✅ **主题色自定义**：自定义主题色
- ✅ **字体自定义**：自定义字体样式

---

## 📊 功能优先级评估

### 🔴 高优先级（核心功能）
1. ✅ 打包下载功能（已完成）
2. ✅ 多位置水印（已完成）
3. ✅ 微信分享优化（已完成）
4. ✅ 相册复制（已完成）

### 🟡 中优先级（体验优化）
5. ⏳ 相册分组（按活动流程/日期）
6. ⏳ "找我"功能（人脸识别+号码识别）
7. ⏳ 预约咨询功能
8. ⏳ 流量导入功能
9. ⏳ 访问控制增强（申请后访问）

### 🟢 低优先级（增值功能）
10. ⏳ 修图助手客户端
11. ⏳ 互动功能（点赞、评论）
12. ⏳ UI 自定义（动画、背景色）
13. ⏳ 微信小程序支持

---

## 🔍 技术实现参考

### 人脸识别集成
```typescript
// 使用腾讯云人脸识别 API
import { TencentCloudClient } from '@tencentcloud/tencentcloud-sdk-nodejs'

const client = new TencentCloudClient({
  credential: {
    secretId: process.env.TENCENT_SECRET_ID,
    secretKey: process.env.TENCENT_SECRET_KEY,
  },
  region: 'ap-beijing',
})

// 检测照片中的人脸
async function detectFaces(imageUrl: string) {
  const response = await client.DetectFace({
    Image: imageUrl,
    MaxFaceNum: 10,
  })
  return response.FaceInfos
}
```

### OCR 号码识别
```typescript
// 使用腾讯云 OCR API
async function recognizeText(imageUrl: string) {
  const response = await client.GeneralBasicOCR({
    ImageUrl: imageUrl,
  })
  return response.TextDetections
}
```

### 修图助手客户端架构
```
修图助手客户端（Electron/Tauri）
├── 文件监控模块
│   ├── 监控"下载"文件夹
│   └── 监控"上传"文件夹
├── API 客户端
│   ├── 下载照片 API
│   └── 上传照片 API
└── 配置管理
    ├── 相册配置
    └── 文件夹路径配置
```

---

## 📚 参考资源

- [拍立享官网](https://www.pailixiang.com/)
- [拍立享帮助文档](https://www.pailixiang.com/help/)
- [拍立享修图助手教程](https://www.pailixiang.com/help/detail_ii1904000036.html)
- [拍立享相册分组功能](https://wechat2.pailixiang.com/m/help/detail_ii2004000005.html)
- [拍立享"找我"功能](https://www.pailixiang.com/help/detail_ii2004000007.html)

---

**最后更新**：2026-01-24
